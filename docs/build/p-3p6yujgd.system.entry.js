var __awaiter=this&&this.__awaiter||function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function i(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):a(t.value).then(i,s)}u((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(i){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,a&&(o=i[0]&2?a["return"]:i[0]?a["throw"]||((o=a["return"])&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;if(a=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:n.label++;return{value:i[1],done:false};case 5:n.label++;a=i[1];i=[0];continue;case 7:i=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){n.label=i[1];break}if(i[0]===6&&n.label<o[1]){n.label=o[1];o=i;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(i);break}if(o[2])n.ops.pop();n.trys.pop();continue}i=e.call(t,n)}catch(s){i=[6,s];a=0}finally{r=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};System.register(["./p-803a0e43.system.js"],(function(t){"use strict";var e;return{setters:[function(t){e=t.r}],execute:function(){var n=function(){function t(){}t.prototype.sendMessage=function(t){this.sendPostMessage(t.detail)};t.prototype.send=function(t,e){var n=e.find((function(t){return t["wf-Workflow"]!==undefined}));if(!n)return;var r=this.createPayload(t,n,e);if(r){this.sendPostMessage({type:r.type,process:r.process,activity:r.activity,control:r.control,valueHash:r.valueHash,path:r.wfPath.map(this.getName)})}};t.prototype.getPath=function(t){return t.composedPath(t)};t.prototype.sendPostMessage=function(t){var e=Object.assign(Object.assign({},t),{timestamp:Date.now()});console.log("ANALYTICS",e);window.postMessage(e,"*")};t.prototype.getName=function(t){if(t.id)return t.id;if(t.page&&t.page.name)return t.page.name;return""};t.prototype.createPayload=function(t,e,n){var r=n.filter((function(t){return t.nodeName&&t.nodeName.indexOf("document-fragment")===-1}));var a=r.find((function(t){return t.localName==="polaris-workflow"}));if(!a)return null;var o=a.ctx.wf.activity;var i=r.slice(0,r.indexOf(a)+1);if(!o.name)return null;var s=a.ctx.wf.process.name;var u=o.name;var c=e.id;var l=this.getHashCode(e.value);return{type:t,process:s,activity:u,control:c,valueHash:l,wfPath:i}};t.prototype.getHashCode=function(t){var e=0;var n;if(!t||t.length===0)return e;for(var r=0;r<t.length;r++){n=t.charCodeAt(r);e=(e<<5)-e+n;e|=0}return e};return t}();var r=t("polaris_analytics",function(){function t(t){e(this,t)}t.prototype.analyticsHandler=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n;return __generator(this,(function(a){e=r.analyticsService.getPath(t);if(r.lastPath[0]===e[0])return[2];r.lastPath=e;n=e.find((function(t){return t["wf-Workflow"]!==undefined}));if(!n)return[2];e[0].addEventListener("blur",this.onBlur);r.analyticsService.send("click",e);return[2]}))}))};t.prototype.wfMessage=function(t){r.analyticsService.sendMessage(t)};t.prototype.onBlur=function(t){r.analyticsService.send("blur",r.lastPath);t.target.removeEventListener("blur",this.onBlur)};return t}());r.lastPath=[null];r.analyticsService=new n}}}));