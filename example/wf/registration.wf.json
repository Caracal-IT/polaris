{
    "name" : "registration",
    "activities": [
        {
            "name": "start",
            "type": "assign-activity",
            "key": "register.nickName",
            "value": "Lourens",
            "next": "session"
        },
        {
            "name": "session",
            "type": "api-activity",
            "next": "landing",
            "endpoints": [
                {
                    "url": "[WF]/user",
                    "method": "GET",
                    "mappings":[
                        {"client": "register.firstName", "remote": "name", "direction": "in"}
                    ]
                }
            ]
        },
        {
        "name": "landing",
        "type": "page-activity",
        "controls": [
            {
                "tag": "moon-panel",
                "caption": "Registration - Details",
                "controls": [
                    {"tag" : "moon-label", "caption": "First Name", "for": "register.firstName"},
                    {
                        "tag": "input", 
                        "id": "register.firstName",                        
                        "validators": [
                            { "name": "required", "message": "The field is required" }
                        ]
                    },
                    {"tag" : "moon-label", "caption": "Surname", "for": "register.lastName"},
                    {
                        "tag": "input", 
                        "id": "register.lastName",
                        "validators": [
                            { "name": "required", "message": "The field is required" }
                        ]},
                    {"tag" : "moon-label", "caption": "Nickname", "for": "register.nickName"},
                    {"tag": "input", "id": "register.nickName" },
                    {"tag": "moon-button", "caption": "Address Details", "next": "details"}
                ]
            }
        ]
        },
        {
            "name": "details",
            "type": "page-activity",
            "controls": [
                {
                    "tag": "moon-panel",
                    "caption": "Registration - Address Details",
                    "controls": [
                        {"tag" : "moon-label", "caption": "First Name", "for": "register.firstName"},
                        {"tag": "input", "id": "register.firstName"},
                        {"tag" : "moon-label", "caption": "Address Line 1", "for": "register.addressLine1"},
                        {"tag": "input", "id": "register.addressLine1", "value": "2 Short Street" },
                        {"tag" : "moon-label", "caption": "Address Line 2", "for": "register.addressLine2"},
                        {"tag": "input", "id": "register.addressLine2"},
                        {"tag" : "moon-label", "caption": "City", "for": "register.city"},
                        {"tag": "input", "id": "register.city", "value": "Durban"},
                        {"tag" : "moon-label", "caption": "Country", "for": "register.country"},
                        {"tag": "input", "id": "register.country", "value": "South Africa"},
                        {"tag": "moon-button", "caption": "Register Another", "next": "alert"}
                    ]
                }
            ]
        },
        {
            "name": "alert",
            "type": "code-activity",
            "next": "landing",
            "expression": "alert(`Hallo ${model.getValue('register.firstName')}`);"
        }
    ]
}